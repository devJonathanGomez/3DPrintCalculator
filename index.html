<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculadora de Impresión 3D</title>
    <link rel="stylesheet" href="styles.css" />

</head>

<body>
    <h1>Calculadora de Presupuesto para Impresión 3D</h1>
    <button id="configToggle">Configuración</button>

    <!-- Sección 1: Configuraciones generales -->
    <section id="costos" class="hidden">
        <h2>Configuración de Costos</h2>
        <form id="config-form">
            <!-- Costos electricidad -->
            <label>Precio kWh:
                <input type="number" step="any" name="kwhPrice" required />
            </label>
            <label>Consumo impresora (kWh/h):
                <input type="number" step="any" name="printerConsumption" required />
            </label>

            <!-- Costos básicos -->
            <label>Diseño (USD/h):
                <input type="number" step="any" name="designCostPerHour" required />
            </label>
            <label>Mano de obra (USD/h):
                <input type="number" step="any" name="laborCostPerHour" required />
            </label>
            <label>Impresión (USD/h):
                <input type="number" step="any" name="printCostPerHour" required />
            </label>
            <label>Amortización (USD/h):
                <input type="number" step="any" name="amortizationCostPerHour" required />
            </label>

            <!-- Conversión -->
            <label>Conversión USD a UYU:
                <input type="number" step="any" name="usdToUy" required />
            </label>
            <label id="UsdUyuCheck">
                <p>USD a UYU Automatico (Promedio compra-venta)</p>
                <input type="checkbox" id="autoUsdCheck" checked/>
            </label>


            <!-- Costos mensuales -->
            <label>Mantenimiento (USD/mes):
                <input type="number" step="any" name="maintenanceMonthly" required />
            </label>
            <label>Gastos paralelos (USD/mes):
                <input type="number" step="any" name="parallelExpenses" required />
            </label>

            <!-- Margen de error -->
            <label>Margen de error (%):
                <input type="number" step="any" name="errorMargin" required />
            </label>

            <button type="submit">Guardar configuración</button>
        </form>
    </section>

    <!-- Gestión de filamentos -->
    <section id="filament" class="hidden">
        <h2>Filamentos disponibles</h2>

        <form id="add-filament-form">
            <label>Nombre:
                <input type="text" name="name" required />
            </label>
            <label>Tipo:
                <input type="text" name="type" required />
            </label>
            <label>Color:
                <input type="color" name="color" value="#000000" required />
            </label>
            <label>Precio por kg (USD):
                <input type="number" step="any" name="price" required />
            </label>
            <button type="submit">Agregar filamento</button>
        </form>

        <div id="filament-list"></div>
    </section>

    <!-- Sección 2: Parámetros específicos -->
    <section id="impresion">
        <h2>Detalles de la Impresión</h2>
        <form id="print-form">
            <!-- Selección de filamentos -->
            <div id="used-filaments">
                <h3>Filamentos utilizados</h3>
                <div class="filament-use" data-index="0">
                    <label>
                        <select name="filament_0"></select>
                    </label>
                    <label>
                        <input type="number" step="any" name="weight_0" min="0" />
                        <p>g</p>
                    </label>
                </div>
                <div class="filament-use" data-index="1">
                    <label>
                        <select name="filament_1"></select>
                    </label>
                    <label>
                        <input type="number" step="any" name="weight_1" min="0" />
                        <p>g</p>
                    </label>
                </div>
                <div class="filament-use" data-index="2">
                    <label>
                        <select name="filament_2"></select>
                    </label>
                    <label>
                        <input type="number" step="any" name="weight_2" min="0" />
                        <p>g</p>
                    </label>
                </div>
                <div class="filament-use" data-index="3">
                    <label>
                        <select name="filament_3"></select>
                    </label>
                    <label>
                        <input type="number" step="any" name="weight_3" min="0" />
                        <p>g</p>
                    </label>
                </div>
                <div class="filament-use" data-index="4">
                    <label>
                        <select name="filament_4"></select>
                    </label>
                    <label>
                        <input type="number" step="any" name="weight_4" min="0" />
                        <p>g</p>
                    </label>
                </div>
            </div>

            <div>
                <br><br>
                <!-- Tiempos (horas) -->
                <label>Diseño (h):
                    <input type="number" step="any" name="design" required />
                </label>
                <label>Mano de obra (h):
                    <input type="number" step="any" name="labor" required />
                </label>
                <label>Impresión (h):
                    <input type="number" step="any" name="printing" required />
                </label>

                <!-- Otros -->
                <label>Packaging (USD):
                    <input type="number" step="any" name="packaging" required />
                </label>
                <label>Extras (USD):
                    <input type="number" step="any" name="extra" required />
                </label>

                <!-- Ganancia -->
                <label>Porcentaje de ganancia:
                    <input type="number" step="any" name="profit" required />
                </label>
            </div>

        </form>
    </section>

    <!-- Resultados -->
    <section id="presupuesto">
        <h2>Desglose de presupuesto</h2>
        <div id="breakdown" class="resultado"></div>
    </section>

    <!-- Script -->
    <script defer src="script.js"></script>
</body>

</html>